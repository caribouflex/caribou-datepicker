<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="../paper-input/paper-input-container.html">
<link rel="import" href="../paper-input/paper-input-error.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">
<link rel="import" href="../iron-dropdown/iron-dropdown.html">
<link rel="import" href="caribou-date-input.html">
<link rel="import" href="caribou-datepicker-custom-icons.html">
<link rel="import" href="caribou-datepicker-overlay.html">
<link rel="import" href="caribou-calendar.html">



<dom-module id="caribou-datepicker">
  <template>
    <style>
      :host {
        display: block;
      }

      [slot=dropdown-content] {
        border-radius: 3px;
        box-shadow: 0px 2px 6px #ccc;
      }

      /* #calendarIcon {
        --iron-icon-fill-color: #1abc9c;
      } */
    </style>

    <paper-input-container always-float-label auto-validate attr-for-value="value">
      <label slot="label">Date</label>
      <caribou-date-input class="paper-input-input" slot="input" date-d="{{date}}" date-m="{{month}}" date-y="{{year}}"></caribou-date-input>
      <paper-icon-button id="calendarIcon" slot="suffix" on-tap="open" icon="caribou-datepicker-icons:calendar"></paper-icon-button>
      <paper-input-error slot="add-on">Error!</paper-input-error>
    </paper-input-container>
  
    <iron-dropdown id="dropdown">
      <div slot="dropdown-content">
        <caribou-datepicker-overlay date="{{date}}" month="{{month}}" year="{{year}}"></caribou-datepicker-overlay>
      </div>
    </iron-dropdown>

  </template>

  <script>
    /**
     * `caribou-datepicker`
     * Polymer 2 element used to select a date picker following material design.
     *
     * @customElement
     * @polymer
     * @demo demo/index.html
     */
    class CaribouDatepicker extends Polymer.Element {
      // class CaribouDatepicker extends Polymer.Element {
      static get is() {
        return 'caribou-datepicker';
      }

      static get properties() {
        return {}
      }

      ready() {
        super.ready();
      }

      open() {
        this.$.dropdown.open()
      }

    }

    window.customElements.define(CaribouDatepicker.is, CaribouDatepicker);
  </script>
</dom-module>